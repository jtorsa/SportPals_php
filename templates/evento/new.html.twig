{% extends 'base.html.twig' %}

{% block title %}New Evento{% endblock %}

{% block body %}
    <h1>Create new Evento</h1>

    {{ include('evento/_form.html.twig') }}

    <a href="{{ path('evento_index') }}">back to list</a>

    <script>
        var $sport = $('#evento_deporte');
        
        $sport.change(function() {
            var $form = $(this).closest('form');
            var data = {};
            console.log($form.attr('method'), $form.attr('method'));
            data[$sport.attr('name')] = $sport.val();
            $.ajax({
                url : $form.attr('action'),
                type: $form.attr('method'),
                data : data,
                success: function(html) {
                    $('#evento_nivel').replaceWith(
                        $(html).find('#evento_nivel')
                    );
                }
            });
        });
</script>
{% endblock %}
